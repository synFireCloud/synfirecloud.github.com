<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script src="love.js"></script>
<script>
	json = new Object();
	json.name = "H5Fun";
	json.date = "2012/11/26 23:05:20";
	json.autograph = "H5Fun";
	var loveSec = new Date(json.date).getTime() / 1000;
	function update() {
		var text = document.getElementById('LoveText');
		var now = parseInt(new Date().getTime() / 1000);
		var cDate = now - loveSec;
		var days = parseInt(cDate / (60 * 60 * 24));
		var h = parseInt(cDate % (60 * 60 * 24) / (60 * 60));
		var m = parseInt(cDate % (60 * 60) / 60);
		var s = parseInt(cDate % 60);
		text.innerHTML = days + "天" + h + "小时" + m + "分" + s + "秒";
	}
	opacity = 0.0;
	function showTextTimer() {
		opacity += 0.01;
		var div = document.getElementById('TextDiv');
		div.style.opacity = opacity;
		if (opacity >= 1.0) {
			clearInterval(showTextTimerId);
		}
	}
	function showText() {
		showTextTimerId = setInterval(showTextTimer, 1000 / 60);
	}
	window.onload = function(){
		var love = new Love(document.getElementById('love_canvas'), 16, showText);
		setInterval(update, 1000);
	};

</script>
<style>
html, body {
	margin: 0px;
	height: 100%;
	background-color: #FBF8CD;
}

#LoveText {
	color: #fff;
	font-size: 32px;
	text-shadow: 0 0 5px #F5A, 0 0 10px #F5A, 0 0 15px #F5A, 0 0 25px #F5A,
		0 0 125px #F5A;
}

#TextDiv {
	color: #000;
	font-size: 24px;
	position: absolute;
	left: 150px;
	font-style: italic;
	top: 150px;
	opacity: 0.0;
}

</style>
<body>
	<div
		style="margin: auto; width: 600px; height: 600px; position: relative;">
		<canvas id="love_canvas" width="600" height="600">白痴不要用IE</canvas>
		<div id="TextDiv">
			<p>
				亲爱的<span id="name" class="input-arg" onclick="javascript:void();">左</span>,我们相爱的日子:
			</p>
			<span class="input-arg" onclick="javascript:void();"><span
				id="LoveText">天15小时53分6秒</span></span>
			<div style="text-align: right; width: 300px; margin-top: 16px;">
				——<span id="autograph" class="input-arg"
					onclick="javascript:void();">石漾男</span>
			</div>
		</div>
	</div>
</body>
</html>
